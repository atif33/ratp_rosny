{"version":3,"sources":["components/ApproachBus.js","components/Navbar.js","store/reducers/busReducers.js","store/store.js","store/actions/busStations.js","components/BusNumber.js","components/BusStations.js","components/HomeBus.js","App.js","reportWebVitals.js","index.js"],"names":["ApproachBus","className","this","props","schedules","map","result","index","destination","message","Component","connect","state","busSelected","Navbar","to","initialState","stations","busNumbers","busReducer","action","type","payload","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","busStations","busScheduls","busSelectedNumber","BusNumber","submitNumberBus","e","axios","get","then","response","dispatch","data","preventDefault","handleChange","setState","target","value","buses","onSubmit","onChange","numberBus","code","console","log","BusStations","getSlugByIndex","slug","station","onClick","name","HomeBus","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.97eb5ed0.chunk.js","sourcesContent":["import {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass ApproachBus extends Component {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <table className=\"table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>Destionation</th>\r\n                        <th>Heure</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {this.props.schedules.map((result, index) => (\r\n                        <tr key={index}>\r\n                            <td>{index + 1}</td>\r\n                            <td>{result.destination}</td>\r\n                            <td>{result.message}</td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        schedules: state.schedules,\r\n        busSelected: state.busSelected\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ApproachBus);\r\n","import {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport class Navbar extends Component {\r\n    render() {\r\n        return (\r\n            <nav className=\"navbar navbar-expand navbar-light bg-light\">\r\n                <div className=\"nav navbar-nav\">\r\n                    <Link className=\"nav-item nav-link active\" to=\"/\">Home <span className=\"sr-only\">(current)</span></Link>\r\n                    <Link className=\"nav-item nav-link\"  to=\"/bus\">Bus</Link>\r\n\r\n                </div>\r\n            </nav>\r\n        )\r\n    }\r\n\r\n}\r\n","const initialState = {\r\n    stations: [{}],\r\n    schedules: [{}],\r\n    busNumbers: [{}],\r\n    busSelected: 0\r\n};\r\n\r\nconst busReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'GET_ALL_STATIONS_BUS':\r\n            return {\r\n                ...state,\r\n                stations: action.payload\r\n            };\r\n        case 'GET_SCHEDULES_BUS':\r\n            return {\r\n                ...state,\r\n                schedules: action.payload\r\n\r\n            };\r\n        case 'BUS_SELECTED_NUMBER':\r\n            return {\r\n                ...state,\r\n                busSelected: action.payload\r\n            };\r\n        case 'GET_ALL_BUSES':\r\n            return {\r\n                ...state,\r\n                busNumbers: action.payload\r\n            };\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n\r\n};\r\n\r\nexport default busReducer;\r\n","import {createStore} from \"redux\";\r\nimport busReducer from \"./reducers/busReducers\";\r\n\r\n\r\nconst store = createStore(busReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\r\n\r\nexport default store;\r\n\r\n\r\n","export const busStations = (stations) => {\r\n    return {\r\n        type: 'GET_ALL_STATIONS_BUS',\r\n        payload: stations\r\n    }\r\n};\r\n\r\nexport const busScheduls = (schedules) => {\r\n    return {\r\n        type: 'GET_SCHEDULES_BUS',\r\n        payload: schedules\r\n    }\r\n};\r\n\r\nexport const busSelectedNumber = (busSelected) => {\r\n    return {\r\n        type: 'BUS_SELECTED_NUMBER',\r\n        payload: busSelected\r\n    };\r\n};\r\n\r\nexport const busesNumbers = (numbers) => {\r\n    return {\r\n        type: 'GET_ALL_BUSES',\r\n        payload: numbers\r\n    }\r\n};\r\n\r\n","import React, {Component} from \"react\";\r\nimport axios from \"axios\";\r\nimport store from \"../store/store.js\";\r\nimport {busesNumbers, busSelectedNumber, busStations} from \"../store/actions/busStations\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass BusNumber extends Component {\r\n    componentDidMount(): void {\r\n        axios.get(`https://api-ratp.pierre-grimaud.fr/v4/lines/buses`)\r\n            .then((response) => {\r\n                store.dispatch(busesNumbers(response.data.result.buses));\r\n            });\r\n    }\r\n\r\n    submitNumberBus = (e) => {\r\n\r\n        const busSelected = this.state.busSelected;\r\n        axios.get(`https://api-ratp.pierre-grimaud.fr/v4/stations/buses/${busSelected}?way=A`)\r\n            .then((response) => {\r\n                store.dispatch(busStations(response.data.result.stations));\r\n            });\r\n        e.preventDefault();\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        this.setState({busSelected: e.target.value});\r\n        store.dispatch(busSelectedNumber(e.target.value));\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <form onSubmit={this.submitNumberBus}>\r\n                <select className=\"form-control\" onChange={this.handleChange}>\r\n                    {this.props.busNumbers.map((numberBus, index) => (\r\n                        <option key={index}>\r\n                            {numberBus.code}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n                <button className=\"btn btn-success\">Ok</button>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    console.log(state.busNumbers);\r\n    return {\r\n        busNumbers: state.busNumbers\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(BusNumber);\r\n\r\n","import React, {Component} from \"react\";\r\nimport axios from \"axios\";\r\nimport store from \"../store/store\";\r\nimport {busScheduls} from \"../store/actions/busStations\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass BusStations extends Component {\r\n    getSlugByIndex = (index) => {\r\n        const slug = this.props.stations[index].slug;\r\n        const busSelected = this.props.busSelected;\r\n        axios.get(`https://api-ratp.pierre-grimaud.fr/v4/schedules/buses/${busSelected}/${slug}/A%2BR`)\r\n            .then((response) => {\r\n                store.dispatch(busScheduls(response.data.result.schedules));\r\n            });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <table className=\"table\">\r\n                <thead>\r\n                <tr>\r\n                    <th>Arrets</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {this.props.stations.map((station, index) => (\r\n                    <tr key={index} onClick={() => this.getSlugByIndex(index)}>\r\n                        <td className=\"btn\">{station.name}</td>\r\n                    </tr>\r\n                ))}\r\n                </tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\n\r\nfunction maptSateToPrps(state) {\r\n    return {\r\n        stations: state.stations,\r\n        busSelected: state.busSelected\r\n    }\r\n}\r\n\r\nexport default connect(maptSateToPrps)(BusStations);\r\n","import React, {Component} from \"react\";\r\nimport BusNumber from \"./BusNumber\";\r\nimport ApproachBus from \"./ApproachBus\";\r\nimport BusStations from \"./BusStations\";\r\n\r\nclass HomeBus extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <BusNumber/>\r\n                </div>\r\n                <div className=\"col\">\r\n                    <BusStations/>\r\n                </div>\r\n                <div className=\"col\">\r\n                    <ApproachBus/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default HomeBus;\r\n","import './App.css';\nimport React from \"react\";\nimport ApproachBus from \"./components/ApproachBus\";\nimport {BrowserRouter, Route, Switch} from \"react-router-dom\";\nimport {Navbar} from \"./components/Navbar\";\nimport HomeBus from \"./components/HomeBus\";\n\n\nfunction App() {\n    return (\n        <BrowserRouter>\n            <Navbar/>\n            <div className=\"container\">\n                <Switch>\n                    <Route exact path=\"/\" component={HomeBus}/>\n                    <Route exact path=\"/bus:numberBus\" component={ApproachBus}/>\n                </Switch>\n            </div>\n        </BrowserRouter>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Provider} from \"react-redux\";\nimport store from \"./store/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={store}>\n    <App />\n      </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}